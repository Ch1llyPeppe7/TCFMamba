# TCFMamba Conda Environment Configuration
# Usage: conda env create -f environment.yml
#
# NOTE: Python 3.10 is required (Windows prebuilt wheels only support 3.10)
# Windows users: Install mamba-ssm separately after conda env creation (see below)

name: tcfmamba
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  # Python version (3.10 required for Windows compatibility)
  - python=3.10

  # CUDA Toolkit (for GPU support)
  # Adjust version based on your CUDA: 11.8, 12.1, or 12.4
  - cudatoolkit=11.8

  # Core scientific computing
  - numpy>=1.24.0
  - pandas>=2.0.0
  - scipy>=1.10.0
  - scikit-learn>=1.3.0

  # Visualization
  - matplotlib>=3.7.0
  - seaborn>=3.0.0

  # Utilities
  - pyyaml>=6.0
  - tqdm>=4.66.0
  - tabulate>=0.9.0

  # pip for remaining packages
  - pip>=23.0

  - pip:
    # PyTorch with CUDA (matching cudatoolkit version)
    # For CUDA 11.8
    - torch>=2.0.0
    - torchvision
    - torchaudio

    # Recommendation Framework
    - recbole>=1.2.0

    # Data processing
    - einops>=0.7.0

    # Logging & Experiment Tracking
    - tensorboard>=2.14.0
    - wandb>=0.16.0

    # =====================================================
    # Mamba SSM Installation (Platform-Specific)
    # =====================================================
    # OPTION 1: Linux/macOS - Uncomment these lines:
    # - causal-conv1d>=1.1.0
    # - mamba-ssm>=1.1.0
    #
    # OPTION 2: Windows - DO NOT use this section.
    # Install manually AFTER conda env creation (see WINDOWS_INSTALL.md):
    #   pip install https://huggingface.co/.../causal_conv1d-...-cp310-cp310-win_amd64.whl
    #   pip install https://huggingface.co/.../mamba_ssm-...-cp310-cp310-win_amd64.whl
    # =====================================================
